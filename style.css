/* RESET */
* { box-sizing: border-box; }
html, body {
  height: 100%;
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

:root{
  --glass: rgba(255,255,255,0.14);
  --glass-strong: rgba(255,255,255,0.22);
  --stroke: rgba(0,0,0,0.12);
  --shadow: 0 20px 80px rgba(0,0,0,0.35);
  --text-blue: rgba(0, 51, 169, 0.85);
}

/* ===== MAP PAGE ===== */
.map-page{
  /* 100svh Ñ€ÐµÑˆÐ°Ð²Ð° â€œÑÐºÐ°Ñ‡Ð°Ñ‰Ð¸Ñâ€ Ð°Ð´Ñ€ÐµÑ Ð±Ð°Ñ€ Ð½Ð° Ð¼Ð¾Ð±Ð¸Ð»Ð½Ð¸ */
  min-height: 100svh;
  width: 100%;
  position: relative;
  overflow: hidden;

  background-image: url("./assets/europe_map.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* ===== LEFT POINTS ===== */
.left-points{
  position: absolute;
  right: 30px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 25px;
  z-index: 5;

  background: rgba(163, 152, 0, 0.18);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border: 1px solid rgba(0, 0, 0, 0.10);
  border-radius: 14px;
  padding: 10px;

  /* mobile-friendly: Ð°ÐºÐ¾ Ñ‚Ð¾Ñ‡ÐºÐ¸Ñ‚Ðµ ÑÑ‚Ð°Ð½Ð°Ñ‚ Ð¿Ð¾Ð²ÐµÑ‡Ðµ */
  max-height: calc(100svh - 140px);
  overflow: auto;
  overscroll-behavior: contain;
}

.map-point{
  display: flex;
  align-items: center;
  gap: 15px;

  border: 1px solid rgba(0,0,0,0.10);
  background: rgba(255, 255, 255, 0.22);
  color: var(--text-blue);

  padding: 18px 14px;
  border-radius: 40px;
  cursor: pointer;

  transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
  text-align: left;
  min-width: 170px;
}

.map-point:hover{
  transform: translateX(2px);
  background: rgba(255, 255, 255, 0.32);
  border-color: rgba(0,0,0,0.14);
}

.dot{
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: rgba(0, 48, 145, 0.85);
  box-shadow: 0 0 0 4px rgba(0,0,0,0.12);
}

.label{
  font-weight: 700;
  font-size: 14px;
  line-height: 1.1;
}

/* ===== MODAL ===== */
.modal-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  z-index: 50;

  /* desktop: â€œdrawerâ€ Ð¿Ð¾Ð´ PGEE, Ð¿Ð¾ Ð²Ð¸ÑÐ¾Ñ‡Ð¸Ð½Ð°Ñ‚Ð° Ð½Ð° ÐºÐ°Ñ€Ñ‚Ð°Ñ‚Ð° */
  display: flex;
  align-items: stretch;
  justify-content: flex-start;
  padding: calc(20px + env(safe-area-inset-top))
           calc(18px + env(safe-area-inset-right))
           calc(18px + env(safe-area-inset-bottom))
           calc(18px + env(safe-area-inset-left));

  /* Ð´Ð° Ð½Ðµ Ð¿Ð¾ÐºÑ€Ð¸Ð²Ð° PGEE â€œbadgeâ€-a */
  padding-top: calc(92px + env(safe-area-inset-top));
}

/* ðŸ”’ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€Ð°, Ñ‡Ðµ hidden Ñ€Ð°Ð±Ð¾Ñ‚Ð¸ */
.modal-backdrop[hidden]{
  display: none !important;
}

/* âœ… ÐœÐžÐ”ÐÐ›ÐªÐ¢ Ð”Ð Ð¡Ð• ÐžÐŸÐ Ð•Ð”Ð•Ð›Ð¯ ÐžÐ¢ Ð¡ÐÐ˜ÐœÐšÐÐ¢Ð (SHRINK-WRAP) */
.modal{
  /* drawer */
  height: 100%;
  display: inline-flex;
  flex-direction: column;

  /* ÑˆÐ¸Ñ€Ð¸Ð½Ð°Ñ‚Ð° Ð¸Ð´Ð²Ð° Ð¾Ñ‚ ÑÐ½Ð¸Ð¼ÐºÐ°Ñ‚Ð°, Ð½Ð¾ Ñ Ñ€Ð°Ð·ÑƒÐ¼Ð½Ð¸ Ð³Ñ€Ð°Ð½Ð¸Ñ†Ð¸ */
  width: fit-content;
  max-width: min(520px, 92vw);

  background: rgba(255,255,255,0.98);
  border-radius: 18px;
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow);
  overflow: hidden;
}

/* HEADER */
.modal-header{
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;

  padding: 10px 14px;
  border-bottom: 1px solid rgba(0,0,0,0.08);
}

.modal-title{
  margin: 0;
  font-size: 18px;
  font-weight: 800;
  color: #111;
  min-height: 1em;
}

.close-btn{
  border: 0;
  background: rgba(0,0,0,0.06);
  cursor: pointer;
  border-radius: 10px;
  padding: 6px 10px;
  font-size: 16px;
}

.close-btn:hover{
  background: rgba(0,0,0,0.12);
}

/* BODY */
.modal-body{
  padding: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
}

/* âœ… Ð¡ÐÐ˜ÐœÐšÐÐ¢Ð ÐžÐŸÐ Ð•Ð”Ð•Ð›Ð¯ Ð¨Ð˜Ð ÐžÐ§Ð˜ÐÐÐ¢Ð ÐÐ POP-UP */
.modal-img{
  width: auto !important;
  height: auto !important;

  /* Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ ÑÐ¿Ñ€ÑÐ¼Ð¾ drawer-Ð° */
  max-width: min(480px, 86vw);
  max-height: calc(100svh - 120px);

  object-fit: contain;

  display: block;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,0.10);
}

/* Ð¼Ð°Ñ…Ð°Ð¼Ðµ Ñ‚ÐµÐºÑÑ‚Ð° Ð´Ð° Ð½Ðµ ÐºÑ€Ð°Ð´Ðµ Ð¼ÑÑÑ‚Ð¾ */
.modal-desc{
  display: none;
}

/* ===== PGEE BADGE ===== */
.pgee-badge{
  position: absolute;
  top: 24px;
  left: 24px;
  z-index: 6;

  padding: 12px 50px;
  border-radius: 50px;

  font-weight: 900;
  font-size: 30px;
  letter-spacing: 0.18em;
  text-transform: uppercase;

  color: rgba(0, 65, 163, 0.85);

  background: rgba(255, 255, 255, 0.10);
  backdrop-filter: blur(50px);
  -webkit-backdrop-filter: blur(14px);

  border: 1px solid rgba(0, 0, 0, 0.12);
  box-shadow:
    0 8px 30px rgba(0, 0, 0, 0.50),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);

  pointer-events: none;
}

/* =====================
   âœ… RESPONSIVE
   ===================== */

@media (max-width: 900px){
  .left-points{
    right: 14px;
    gap: 14px;
    border-radius: 16px;
  }

  .map-point{
    min-width: 150px;
    padding: 14px 12px;
  }

  .pgee-badge{
    top: 14px;
    left: 14px;
    padding: 10px 26px;
    font-size: 22px;
    letter-spacing: 0.14em;
  }
}

@media (max-width: 640px){
  /* âœ… Ð¢Ð¾Ñ‡ÐºÐ¸Ñ‚Ðµ ÑÑ‚Ð°Ð²Ð°Ñ‚ Ð´Ð¾Ð»ÐµÐ½ â€œdockâ€ (ÑƒÐ´Ð¾Ð±Ð½Ð¾ Ð·Ð° Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½) */
  .left-points{
    left: 50%;
    right: auto;
    top: auto;
    bottom: calc(14px + env(safe-area-inset-bottom));
    transform: translateX(-50%);
    flex-direction: row;
    align-items: center;
    gap: 10px;
    padding: 10px;
    max-width: calc(100vw - 24px);
    max-height: none;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  .left-points::-webkit-scrollbar{ display:none; }

  .map-point{
    min-width: auto;
    padding: 10px 12px;
    border-radius: 999px;
    white-space: nowrap;
  }
  .label{ font-size: 13px; }

  /* âœ… Drawer -> bottom sheet */
  .modal-backdrop{
    align-items: flex-end;
    justify-content: center;
    padding: 12px;
  }
  .modal{
    width: min(96vw, 560px);
    height: min(86svh, 760px);
    border-radius: 20px;
  }
  .modal-img{
    max-width: 92vw;
    max-height: calc(86svh - 120px);
  }

  .pgee-badge{
    top: 12px;
    left: 12px;
    padding: 10px 22px;
    font-size: 20px;
  }
}
